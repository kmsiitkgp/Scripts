https://www.hpc.caltech.edu/documentation/transferring-files#:~:text=Command%20Line%3A,-Start%20Terminal%20(Applications&text=To%20copy%20files%20from%20your,hpc.caltech.edu%3A~%2Fremote_directory_name

Start Terminal (Applications->Accessories->Terminal)

To copy files from your computer to the central cluster:
scp local_filename username@login.hpc.caltech.edu:~/remote_directory_name
rsync -avPz -e ssh local_filename username@login.hpc.caltech.edu:~/remote_directory_name

To copy files from the central cluster to your computer:
scp username@login.hpc.caltech.edu:~/remote_filename .
rsync -chavzP --stats kailasamms@csclprd3-s001v:/common/theodorescudlab/Sequencing_Data/CRISPR_Jinfen D:


rsync -a dir1 dir2 -> copies dir1 and its contents to dir2
rsync -a dir1/ dir2 -> copies contents of dir1 to dir2
rsync -rv --dry-run --stats kailasamms@csclprd3-s001v:/common/theodorescudlab/Sequencing_Data/CRISPR_Jinfen/MD5.txt D:

####if rsync is not installed in windows, Start Terminal (Applications->Accessories->Terminal) and copy paste the script below:
# Download and install Git for Windows if not already installed
if (-not (Test-Path "C:\Program Files\Git\bin\git.exe")) {
    Write-Host "Git for Windows not found. Downloading installer..."
    Invoke-WebRequest -Uri "https://github.com/git-for-windows/git/releases/download/v2.31.1.windows.1/Git-2.31.1-64-bit.exe" -OutFile "git-installer.exe"
    Write-Host "Installing Git for Windows..."
    Start-Process -FilePath ".\git-installer.exe" -ArgumentList "/VERYSILENT" -Wait
    Remove-Item ".\git-installer.exe"
}

# Create a temporary directory for downloads
New-Item -ItemType Directory -Path ".\rsync_temp" -Force | Out-Null
Set-Location ".\rsync_temp"

# Download the latest rsync binary package and its dependencies
Write-Host "Downloading rsync package and dependencies..."
Invoke-WebRequest -Uri "https://repo.msys2.org/msys/x86_64/rsync-3.3.0-1-x86_64.pkg.tar.zst" -OutFile "rsync.pkg.tar.xz"
Invoke-WebRequest -Uri "https://repo.msys2.org/msys/x86_64/libxxhash-0.8.2-1-x86_64.pkg.tar.zst" -OutFile "libxxhash.pkg.tar.zst"
Invoke-WebRequest -Uri "https://repo.msys2.org/msys/x86_64/libzstd-1.5.6-1-x86_64.pkg.tar.zst" -OutFile "libzstd.pkg.tar.zst"

# Extract the contents of the packages to the Git directory
Write-Host "Extracting packages..."
tar -xf "rsync.pkg.tar.xz" -C "C:\Program Files\Git"
tar -xf "libxxhash.pkg.tar.zst" -C "C:\Program Files\Git" 
tar -xf "libzstd.pkg.tar.zst" -C "C:\Program Files\Git"

# Clean up the temporary directory
Set-Location ".."
Remove-Item -Recurse -Force ".\rsync_temp"

# Create a batch file for running rsync from cmd.exe and PowerShell
Write-Host "Creating rsync.bat file..."
$rsyncBatContent = '@echo off' + [Environment]::NewLine + '"C:\Program Files\Git\usr\bin\rsync.exe" %*'
New-Item -ItemType File -Path "C:\Windows\rsync.bat" -Value $rsyncBatContent -Force | Out-Null

Write-Host "rsync installation completed successfully!"