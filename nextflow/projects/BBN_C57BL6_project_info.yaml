# =========================================================================================
# PROJECT CONFIGURATION FILE
# =========================================================================================
# This YAML file configures the scRNA-seq pipeline. The pipeline reads this file to:
#   1. Locate input FASTQ files (read_dir)
#   2. Find reference genome files (reference section)
#   3. Set output locations (base_dir, work_dir)
#   4. Configure alignment/quantification tools (star_align, salmon_quant)
#
# Usage:
#   nextflow run main.nf -params-file project_info.yaml
#
# Quick Start:
#   1. Set project name, species, genome_version
#   2. Verify reference paths (ref_dir, fasta_file, gtf_file)
#   3. Set read_dir to your FASTQ location
#   4. Leave STAR/Salmon defaults unchanged (unless specific needs)
# =========================================================================================

# -----------------------------------------------------------------------------------------
# PROJECT METADATA
# -----------------------------------------------------------------------------------------

project: "BBN_C57BL6"             # Project name (used in output directory naming)
expt: "scRNASeq"                  # Experiment type (determines output structure)
assay: "RNA"                      # Assay type (metadata only)

# -----------------------------------------------------------------------------------------
# REFERENCE GENOME PATHS
# -----------------------------------------------------------------------------------------
# CRITICAL: Files MUST be organized as:
#
#   ref_dir/
#   └── Human/                      ← Species folder (REQUIRED!)
#       ├── Homo_sapiens.GRCh38.dna.primary_assembly.fa
#       └── Homo_sapiens.GRCh38.113.gtf
#
# Pipeline constructs full paths as: ${ref_dir}/${species}/${fasta_file}
# Storing files directly in ref_dir (without species subfolder) will ERROR!
# -----------------------------------------------------------------------------------------

#species: "Human"                  # Must match folder name in ref_dir: "Human", "Mouse", etc.
#genome_version: "GRCh38"          # For documentation: "GRCh38", "GRCm39", etc.
reference:
  ref_dir: "/hpc/home/kailasamms/NGSTools/Reference_Genomes"
  fasta_file: null
  gtf_file: null

# Mouse example (uncomment to switch):
species: "Mouse"
genome_version: "GRCm39"
# reference:
#   ref_dir: "/hpc/home/kailasamms/NGSTools/Reference_Genomes"
#   fasta_file: null
#   gtf_file: null

# -----------------------------------------------------------------------------------------
# INPUT/OUTPUT DIRECTORIES
# -----------------------------------------------------------------------------------------

# Input: Directory containing raw FASTQ files
# Expected naming: *_R1.fq.gz, *_R2.fq.gz (or _r1, _r2, .fastq.gz)
# See docs/validate_input.md for file naming requirements
read_dir: "/hpc/home/kailasamms/scratch/scRNASeq/BBN_C57BL6/01.FastQ/raw"

# Output: Base directory for all pipeline results
# Final structure: ${base_dir}/${expt}/${project}/01.FastQC/, 02.STAR/, etc.
base_dir: "/hpc/home/kailasamms/scratch"

# Work: Nextflow intermediate files (enables -resume, can delete after completion)
work_dir: "/hpc/home/kailasamms/scratch/work"

# Cache: Container image storage (can be shared across projects)
cache_dir: "/hpc/home/kailasamms/NGSTools/singularity_cache"

# Cloud storage examples:
# base_dir: "s3://my-nextflow-bucket"
# work_dir: "s3://my-nextflow-bucket/work"

# =========================================================================================
# CELLRANGER PARAMETERS
# =========================================================================================
# These are passed to STAR alignment. Defaults work well for standard RNA-seq.
# For parameter details, see: docs/star_align.md
#
# Advanced users: Modify values as needed
# Standard users: Leave defaults unchanged
# =========================================================================================

cellranger_count:
  tenx_cloud_token_path: "tenx_token.txt"
  chemistry: "auto"                         # Novel junction discovery (2-5% better mapping)
  cell_annotation_model: "auto"             # ReadLength - 1 (100 works for 75-150bp reads)
  include_introns: "true"
  check_library_compatibility: "true"       # Generate gene counts for DESeq2/edgeR
  create_bam: "false"